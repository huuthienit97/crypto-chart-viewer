{"ast":null,"code":"var _jsxFileName = \"/Volumes/Extreme SSD/NodeJs/huuthien.vn/huuthien-realtime-crypto/client/src/components/TradingChart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\nimport { useTheme } from '../ThemeContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  background: ${props => props.theme.colors.card};\n  border: 1px solid ${props => props.theme.colors.border};\n  border-radius: 12px;\n  padding: 20px;\n  height: 400px;\n  transition: all 0.3s ease;\n`;\n_c = Container;\nconst Title = styled.h3`\n  margin-bottom: 15px;\n  color: ${props => props.theme.colors.textSecondary};\n  font-size: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n_c2 = Title;\nconst TimeFrameButtons = styled.div`\n  display: flex;\n  gap: 5px;\n`;\n_c3 = TimeFrameButtons;\nconst TimeButton = styled.button`\n  padding: 5px 10px;\n  border: 1px solid ${props => props.theme.colors.border};\n  background: ${props => props.active ? props.theme.colors.primary + '30' : props.theme.colors.surface};\n  color: ${props => props.theme.colors.text};\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: ${props => props.theme.colors.primary + '20'};\n  }\n`;\n_c4 = TimeButton;\nconst ChartContainer = styled.div`\n  height: 300px;\n  width: 100%;\n`;\n_c5 = ChartContainer;\nconst CoinInfoRow = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 8px;\n`;\n_c6 = CoinInfoRow;\nconst CoinLogo = styled.img`\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  background: #fff;\n  border: 1px solid #eee;\n`;\n_c7 = CoinLogo;\nconst CoinName = styled.div`\n  font-weight: bold;\n  font-size: 16px;\n`;\n_c8 = CoinName;\nconst CoinDetail = styled.div`\n  font-size: 12px;\n  color: ${props => props.theme.colors.textSecondary};\n`;\n\n// Mapping timeFrame sang interval Binance\n_c9 = CoinDetail;\nconst timeFrameToInterval = {\n  '1H': '1h',\n  '4H': '4h',\n  '1D': '1d',\n  '1W': '1w'\n};\nconst INTERPOLATE_STEPS = 8;\nconst COINGECKO_IDS = {\n  BTC: 'bitcoin',\n  ETH: 'ethereum',\n  BNB: 'binancecoin',\n  ADA: 'cardano',\n  SOL: 'solana',\n  DOT: 'polkadot',\n  LINK: 'chainlink',\n  MATIC: 'matic-network',\n  XRP: 'ripple',\n  DOGE: 'dogecoin',\n  AVAX: 'avalanche-2',\n  UNI: 'uniswap',\n  LTC: 'litecoin',\n  BCH: 'bitcoin-cash',\n  ATOM: 'cosmos',\n  NEAR: 'near',\n  ALGO: 'algorand',\n  VET: 'vechain',\n  ICP: 'internet-computer',\n  FIL: 'filecoin'\n};\nconst TradingChart = ({\n  selectedCrypto,\n  cryptoData\n}) => {\n  _s();\n  var _coinInfo$image, _coinInfo$image2, _coinInfo$symbol, _coinInfo$market_data, _coinInfo$market_data2, _coinInfo$market_data3, _coinInfo$market_data4, _coinInfo$market_data5, _coinInfo$market_data6, _cryptoData$selectedC3, _cryptoData$selectedC4;\n  const [timeFrame, setTimeFrame] = useState('1H');\n  const [chartData, setChartData] = useState([]);\n  const [isRealtime, setIsRealtime] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const [interpolating, setInterpolating] = useState(false);\n  const [lastBinancePrice, setLastBinancePrice] = useState(null);\n  const [coinInfo, setCoinInfo] = useState(null);\n  const [coinInfoLoading, setCoinInfoLoading] = useState(false);\n  const theme = useTheme();\n\n  // Mượt biểu đồ khi giá Binance thay đổi\n  useEffect(() => {\n    if (!isRealtime) return;\n    let intervalId;\n    let lastPrice = chartData.length > 0 ? chartData[chartData.length - 1].price : null;\n    let steps = 0;\n    let interpolateFrom = lastPrice;\n    let interpolateTo = lastPrice;\n    let interpolateDelta = 0;\n    intervalId = setInterval(() => {\n      var _cryptoData$selectedC, _cryptoData$selectedC2;\n      const binancePrice = (_cryptoData$selectedC = cryptoData[selectedCrypto]) === null || _cryptoData$selectedC === void 0 ? void 0 : _cryptoData$selectedC.price;\n      if (!binancePrice) return;\n      // Nếu giá Binance thay đổi lớn, bắt đầu nội suy\n      if (lastBinancePrice !== binancePrice) {\n        var _lastPrice;\n        interpolateFrom = (_lastPrice = lastPrice) !== null && _lastPrice !== void 0 ? _lastPrice : binancePrice;\n        interpolateTo = binancePrice;\n        interpolateDelta = (interpolateTo - interpolateFrom) / INTERPOLATE_STEPS;\n        steps = 1;\n        setLastBinancePrice(binancePrice);\n        setInterpolating(true);\n      }\n      let newPrice;\n      if (interpolating && steps <= INTERPOLATE_STEPS) {\n        // Nội suy dần\n        newPrice = interpolateFrom + interpolateDelta * steps;\n        steps++;\n        if (steps > INTERPOLATE_STEPS) setInterpolating(false);\n      } else {\n        // Nếu không nội suy, random nhỏ quanh giá cuối cùng\n        const base = binancePrice;\n        const variation = (Math.random() - 0.5) * 0.002; // ±0.1%\n        newPrice = base * (1 + variation);\n      }\n      const now = new Date();\n      const newDataPoint = {\n        time: now.toLocaleTimeString('vi-VN', {\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit'\n        }),\n        price: parseFloat(newPrice.toFixed(2)),\n        volume: ((_cryptoData$selectedC2 = cryptoData[selectedCrypto]) === null || _cryptoData$selectedC2 === void 0 ? void 0 : _cryptoData$selectedC2.volume) || 0\n      };\n      setChartData(prevData => {\n        const updatedData = [...prevData, newDataPoint];\n        return updatedData.length > 50 ? updatedData.slice(-50) : updatedData;\n      });\n      lastPrice = newPrice;\n    }, 500);\n    return () => clearInterval(intervalId);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [cryptoData, selectedCrypto, isRealtime]);\n\n  // Lấy dữ liệu lịch sử thật từ API\n  useEffect(() => {\n    const fetchHistoryData = async () => {\n      setIsLoading(true);\n      try {\n        const interval = timeFrameToInterval[timeFrame] || '1h';\n        const response = await fetch(`/api/history/${selectedCrypto}?interval=${interval}&limit=100`);\n        const data = await response.json();\n        if (data.error) {\n          console.error('Lỗi khi lấy dữ liệu lịch sử:', data.error);\n          return;\n        }\n        if (data.length > 0) {\n          setChartData(data);\n        }\n      } catch (error) {\n        console.error('Lỗi khi fetch dữ liệu lịch sử:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    if (selectedCrypto) {\n      fetchHistoryData();\n    }\n  }, [selectedCrypto, timeFrame]);\n\n  // Lấy thông tin chi tiết coin từ CoinGecko\n  useEffect(() => {\n    const fetchCoinInfo = async () => {\n      setCoinInfo(null);\n      setCoinInfoLoading(true);\n      const id = COINGECKO_IDS[selectedCrypto];\n      if (!id) return setCoinInfoLoading(false);\n      try {\n        const res = await fetch(`https://api.coingecko.com/api/v3/coins/${id}?localization=false&tickers=false&market_data=true&community_data=false&developer_data=false&sparkline=false`);\n        const data = await res.json();\n        setCoinInfo(data);\n      } catch (e) {\n        setCoinInfo(null);\n      } finally {\n        setCoinInfoLoading(false);\n      }\n    };\n    fetchCoinInfo();\n  }, [selectedCrypto]);\n  const CustomTooltip = ({\n    active,\n    payload,\n    label\n  }) => {\n    if (active && payload && payload.length) {\n      const price = payload[0].value;\n      const volume = payload[0].payload.volume;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: theme.colors.surface,\n          border: `1px solid ${theme.colors.border}`,\n          borderRadius: '8px',\n          padding: '12px',\n          color: theme.colors.text,\n          fontSize: '12px',\n          boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '0 0 8px 0',\n            fontWeight: 'bold'\n          },\n          children: `⏰ ${label}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: theme.colors.primary,\n            margin: '4px 0',\n            fontWeight: 'bold'\n          },\n          children: `💰 $${price.toLocaleString('en-US', {\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2\n          })}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: theme.colors.textSecondary,\n            margin: '4px 0'\n          },\n          children: `📊 Volume: ${volume.toLocaleString('en-US', {\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2\n          })}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this);\n    }\n    return null;\n  };\n\n  // Xác định màu line: tăng thì xanh, giảm thì đỏ\n  let lineColor = theme.colors.primary;\n  if (chartData.length > 1 && chartData[chartData.length - 1].price < chartData[0].price) {\n    lineColor = theme.colors.secondary;\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    theme: theme,\n    children: [/*#__PURE__*/_jsxDEV(CoinInfoRow, {\n      children: coinInfoLoading ? /*#__PURE__*/_jsxDEV(CoinDetail, {\n        theme: theme,\n        children: \"\\u0110ang t\\u1EA3i th\\xF4ng tin coin...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this) : coinInfo ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(CoinLogo, {\n          src: ((_coinInfo$image = coinInfo.image) === null || _coinInfo$image === void 0 ? void 0 : _coinInfo$image.thumb) || ((_coinInfo$image2 = coinInfo.image) === null || _coinInfo$image2 === void 0 ? void 0 : _coinInfo$image2.small),\n          alt: coinInfo.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CoinName, {\n          children: [coinInfo.name, \" (\", (_coinInfo$symbol = coinInfo.symbol) === null || _coinInfo$symbol === void 0 ? void 0 : _coinInfo$symbol.toUpperCase(), \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CoinDetail, {\n          theme: theme,\n          children: [\"Rank #\", coinInfo.market_cap_rank]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CoinDetail, {\n          theme: theme,\n          children: [\"Market Cap: $\", (_coinInfo$market_data = coinInfo.market_data) === null || _coinInfo$market_data === void 0 ? void 0 : (_coinInfo$market_data2 = _coinInfo$market_data.market_cap) === null || _coinInfo$market_data2 === void 0 ? void 0 : (_coinInfo$market_data3 = _coinInfo$market_data2.usd) === null || _coinInfo$market_data3 === void 0 ? void 0 : _coinInfo$market_data3.toLocaleString('en-US')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CoinDetail, {\n          theme: theme,\n          children: [\"Volume 24h: $\", (_coinInfo$market_data4 = coinInfo.market_data) === null || _coinInfo$market_data4 === void 0 ? void 0 : (_coinInfo$market_data5 = _coinInfo$market_data4.total_volume) === null || _coinInfo$market_data5 === void 0 ? void 0 : (_coinInfo$market_data6 = _coinInfo$market_data5.usd) === null || _coinInfo$market_data6 === void 0 ? void 0 : _coinInfo$market_data6.toLocaleString('en-US')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(CoinDetail, {\n        theme: theme,\n        children: \"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u coin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Title, {\n      theme: theme,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          width: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83D\\uDCC8 Bi\\u1EC3u \\u0111\\u1ED3 gi\\xE1 - \", selectedCrypto]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), chartData.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              color: theme.colors.textSecondary,\n              marginTop: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: theme.colors.primary,\n                fontWeight: 'bold'\n              },\n              children: [\"$\", chartData[chartData.length - 1].price.toLocaleString('en-US', {\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: chartData[chartData.length - 1].price - chartData[0].price >= 0 ? theme.colors.primary : theme.colors.secondary,\n                marginLeft: '8px'\n              },\n              children: [(chartData[chartData.length - 1].price - chartData[0].price >= 0 ? '+' : '') + ((chartData[chartData.length - 1].price - chartData[0].price) / chartData[0].price * 100).toFixed(2), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this) : cryptoData[selectedCrypto] && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              color: theme.colors.textSecondary,\n              marginTop: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: theme.colors.primary,\n                fontWeight: 'bold'\n              },\n              children: [\"$\", (_cryptoData$selectedC3 = cryptoData[selectedCrypto].price) === null || _cryptoData$selectedC3 === void 0 ? void 0 : _cryptoData$selectedC3.toLocaleString('en-US', {\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: cryptoData[selectedCrypto].change24h >= 0 ? theme.colors.primary : theme.colors.secondary,\n                marginLeft: '8px'\n              },\n              children: [cryptoData[selectedCrypto].change24h >= 0 ? '+' : '', (_cryptoData$selectedC4 = cryptoData[selectedCrypto].change24h) === null || _cryptoData$selectedC4 === void 0 ? void 0 : _cryptoData$selectedC4.toFixed(2), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(TimeFrameButtons, {\n            children: ['1H', '4H', '1D', '1W'].map(tf => /*#__PURE__*/_jsxDEV(TimeButton, {\n              active: timeFrame === tf,\n              theme: theme,\n              onClick: () => setTimeFrame(tf),\n              children: tf\n            }, tf, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TimeButton, {\n            active: isRealtime,\n            theme: theme,\n            onClick: () => setIsRealtime(!isRealtime),\n            style: {\n              fontSize: '10px',\n              padding: '4px 8px'\n            },\n            children: isRealtime ? '🟢 Live' : '🔴 Pause'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TimeButton, {\n            theme: theme,\n            onClick: () => {\n              setChartData([]);\n              // Trigger reload\n              const event = new Event('reload');\n              window.dispatchEvent(event);\n            },\n            style: {\n              fontSize: '10px',\n              padding: '4px 8px'\n            },\n            children: \"\\uD83D\\uDD04 Refresh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ChartContainer, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: '10px',\n          right: '10px',\n          fontSize: '12px',\n          color: isRealtime ? theme.colors.primary : theme.colors.textSecondary,\n          zIndex: 10\n        },\n        children: isRealtime ? '🟢 Live' : '🔴 Paused'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          height: '100%',\n          color: theme.colors.textSecondary,\n          fontSize: '14px'\n        },\n        children: \"\\uD83D\\uDCCA \\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u l\\u1ECBch s\\u1EED...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }, this) : chartData.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          height: '100%',\n          color: theme.colors.textSecondary,\n          fontSize: '14px'\n        },\n        children: [\"\\uD83D\\uDCCA Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u cho \", selectedCrypto]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n        width: \"100%\",\n        height: \"100%\",\n        children: /*#__PURE__*/_jsxDEV(LineChart, {\n          data: chartData,\n          margin: {\n            top: 20,\n            right: 20,\n            left: 0,\n            bottom: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n            strokeDasharray: \"3 3\",\n            stroke: theme.colors.border\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n            dataKey: \"time\",\n            minTickGap: 20,\n            tick: {\n              fill: theme.colors.textSecondary,\n              fontSize: 12\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n            domain: ['auto', 'auto'],\n            tick: {\n              fill: theme.colors.textSecondary,\n              fontSize: 12\n            },\n            width: 60\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            content: /*#__PURE__*/_jsxDEV(CustomTooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Line, {\n            type: \"monotone\",\n            dataKey: \"price\",\n            dot: false,\n            stroke: lineColor,\n            strokeWidth: 2.5,\n            isAnimationActive: false,\n            connectNulls: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }, this), chartData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          marginTop: '10px',\n          fontSize: '11px',\n          color: theme.colors.textSecondary\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\uD83D\\uDCC9 Min: $\", Math.min(...chartData.map(d => d.price)).toLocaleString('en-US', {\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\uD83D\\uDCC8 Max: $\", Math.max(...chartData.map(d => d.price)).toLocaleString('en-US', {\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\uD83D\\uDCCA Range: $\", (Math.max(...chartData.map(d => d.price)) - Math.min(...chartData.map(d => d.price))).toLocaleString('en-US', {\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 2\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 5\n  }, this);\n};\n_s(TradingChart, \"DOkjMy9IlMNu5sNxm3HNxqWUsN0=\", false, function () {\n  return [useTheme];\n});\n_c0 = TradingChart;\nexport default TradingChart;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"TimeFrameButtons\");\n$RefreshReg$(_c4, \"TimeButton\");\n$RefreshReg$(_c5, \"ChartContainer\");\n$RefreshReg$(_c6, \"CoinInfoRow\");\n$RefreshReg$(_c7, \"CoinLogo\");\n$RefreshReg$(_c8, \"CoinName\");\n$RefreshReg$(_c9, \"CoinDetail\");\n$RefreshReg$(_c0, \"TradingChart\");","map":{"version":3,"names":["React","useState","useEffect","useRef","styled","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","useTheme","jsxDEV","_jsxDEV","Fragment","_Fragment","Container","div","props","theme","colors","card","border","_c","Title","h3","textSecondary","_c2","TimeFrameButtons","_c3","TimeButton","button","active","primary","surface","text","_c4","ChartContainer","_c5","CoinInfoRow","_c6","CoinLogo","img","_c7","CoinName","_c8","CoinDetail","_c9","timeFrameToInterval","INTERPOLATE_STEPS","COINGECKO_IDS","BTC","ETH","BNB","ADA","SOL","DOT","LINK","MATIC","XRP","DOGE","AVAX","UNI","LTC","BCH","ATOM","NEAR","ALGO","VET","ICP","FIL","TradingChart","selectedCrypto","cryptoData","_s","_coinInfo$image","_coinInfo$image2","_coinInfo$symbol","_coinInfo$market_data","_coinInfo$market_data2","_coinInfo$market_data3","_coinInfo$market_data4","_coinInfo$market_data5","_coinInfo$market_data6","_cryptoData$selectedC3","_cryptoData$selectedC4","timeFrame","setTimeFrame","chartData","setChartData","isRealtime","setIsRealtime","isLoading","setIsLoading","interpolating","setInterpolating","lastBinancePrice","setLastBinancePrice","coinInfo","setCoinInfo","coinInfoLoading","setCoinInfoLoading","intervalId","lastPrice","length","price","steps","interpolateFrom","interpolateTo","interpolateDelta","setInterval","_cryptoData$selectedC","_cryptoData$selectedC2","binancePrice","_lastPrice","newPrice","base","variation","Math","random","now","Date","newDataPoint","time","toLocaleTimeString","hour","minute","second","parseFloat","toFixed","volume","prevData","updatedData","slice","clearInterval","fetchHistoryData","interval","response","fetch","data","json","error","console","fetchCoinInfo","id","res","e","CustomTooltip","payload","label","value","style","backgroundColor","borderRadius","padding","color","fontSize","boxShadow","children","margin","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleString","minimumFractionDigits","maximumFractionDigits","lineColor","secondary","src","image","thumb","small","alt","name","symbol","toUpperCase","market_cap_rank","market_data","market_cap","usd","total_volume","display","justifyContent","alignItems","width","marginTop","marginLeft","change24h","gap","map","tf","onClick","event","Event","window","dispatchEvent","position","top","right","zIndex","height","left","bottom","strokeDasharray","stroke","dataKey","minTickGap","tick","fill","domain","content","type","dot","strokeWidth","isAnimationActive","connectNulls","min","d","max","_c0","$RefreshReg$"],"sources":["/Volumes/Extreme SSD/NodeJs/huuthien.vn/huuthien-realtime-crypto/client/src/components/TradingChart.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\nimport { useTheme } from '../ThemeContext';\n\nconst Container = styled.div`\n  background: ${props => props.theme.colors.card};\n  border: 1px solid ${props => props.theme.colors.border};\n  border-radius: 12px;\n  padding: 20px;\n  height: 400px;\n  transition: all 0.3s ease;\n`;\n\nconst Title = styled.h3`\n  margin-bottom: 15px;\n  color: ${props => props.theme.colors.textSecondary};\n  font-size: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst TimeFrameButtons = styled.div`\n  display: flex;\n  gap: 5px;\n`;\n\nconst TimeButton = styled.button`\n  padding: 5px 10px;\n  border: 1px solid ${props => props.theme.colors.border};\n  background: ${props => props.active ? props.theme.colors.primary + '30' : props.theme.colors.surface};\n  color: ${props => props.theme.colors.text};\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: ${props => props.theme.colors.primary + '20'};\n  }\n`;\n\nconst ChartContainer = styled.div`\n  height: 300px;\n  width: 100%;\n`;\n\nconst CoinInfoRow = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 8px;\n`;\n\nconst CoinLogo = styled.img`\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  background: #fff;\n  border: 1px solid #eee;\n`;\n\nconst CoinName = styled.div`\n  font-weight: bold;\n  font-size: 16px;\n`;\n\nconst CoinDetail = styled.div`\n  font-size: 12px;\n  color: ${props => props.theme.colors.textSecondary};\n`;\n\n// Mapping timeFrame sang interval Binance\nconst timeFrameToInterval = {\n  '1H': '1h',\n  '4H': '4h',\n  '1D': '1d',\n  '1W': '1w'\n};\n\nconst INTERPOLATE_STEPS = 8;\n\nconst COINGECKO_IDS = {\n  BTC: 'bitcoin', ETH: 'ethereum', BNB: 'binancecoin', ADA: 'cardano', SOL: 'solana', DOT: 'polkadot', LINK: 'chainlink',\n  MATIC: 'matic-network', XRP: 'ripple', DOGE: 'dogecoin', AVAX: 'avalanche-2', UNI: 'uniswap', LTC: 'litecoin', BCH: 'bitcoin-cash',\n  ATOM: 'cosmos', NEAR: 'near', ALGO: 'algorand', VET: 'vechain', ICP: 'internet-computer', FIL: 'filecoin'\n};\n\nconst TradingChart = ({ selectedCrypto, cryptoData }) => {\n  const [timeFrame, setTimeFrame] = useState('1H');\n  const [chartData, setChartData] = useState([]);\n  const [isRealtime, setIsRealtime] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const [interpolating, setInterpolating] = useState(false);\n  const [lastBinancePrice, setLastBinancePrice] = useState(null);\n  const [coinInfo, setCoinInfo] = useState(null);\n  const [coinInfoLoading, setCoinInfoLoading] = useState(false);\n  const theme = useTheme();\n\n  // Mượt biểu đồ khi giá Binance thay đổi\n  useEffect(() => {\n    if (!isRealtime) return;\n    let intervalId;\n    let lastPrice = chartData.length > 0 ? chartData[chartData.length - 1].price : null;\n    let steps = 0;\n    let interpolateFrom = lastPrice;\n    let interpolateTo = lastPrice;\n    let interpolateDelta = 0;\n\n    intervalId = setInterval(() => {\n      const binancePrice = cryptoData[selectedCrypto]?.price;\n      if (!binancePrice) return;\n      // Nếu giá Binance thay đổi lớn, bắt đầu nội suy\n      if (lastBinancePrice !== binancePrice) {\n        interpolateFrom = lastPrice ?? binancePrice;\n        interpolateTo = binancePrice;\n        interpolateDelta = (interpolateTo - interpolateFrom) / INTERPOLATE_STEPS;\n        steps = 1;\n        setLastBinancePrice(binancePrice);\n        setInterpolating(true);\n      }\n      let newPrice;\n      if (interpolating && steps <= INTERPOLATE_STEPS) {\n        // Nội suy dần\n        newPrice = interpolateFrom + interpolateDelta * steps;\n        steps++;\n        if (steps > INTERPOLATE_STEPS) setInterpolating(false);\n      } else {\n        // Nếu không nội suy, random nhỏ quanh giá cuối cùng\n        const base = binancePrice;\n        const variation = (Math.random() - 0.5) * 0.002; // ±0.1%\n        newPrice = base * (1 + variation);\n      }\n      const now = new Date();\n      const newDataPoint = {\n        time: now.toLocaleTimeString('vi-VN', { hour: '2-digit', minute: '2-digit', second: '2-digit' }),\n        price: parseFloat(newPrice.toFixed(2)),\n        volume: cryptoData[selectedCrypto]?.volume || 0\n      };\n      setChartData(prevData => {\n        const updatedData = [...prevData, newDataPoint];\n        return updatedData.length > 50 ? updatedData.slice(-50) : updatedData;\n      });\n      lastPrice = newPrice;\n    }, 500);\n    return () => clearInterval(intervalId);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [cryptoData, selectedCrypto, isRealtime]);\n\n  // Lấy dữ liệu lịch sử thật từ API\n  useEffect(() => {\n    const fetchHistoryData = async () => {\n      setIsLoading(true);\n      try {\n        const interval = timeFrameToInterval[timeFrame] || '1h';\n        const response = await fetch(`/api/history/${selectedCrypto}?interval=${interval}&limit=100`);\n        const data = await response.json();\n        \n        if (data.error) {\n          console.error('Lỗi khi lấy dữ liệu lịch sử:', data.error);\n          return;\n        }\n        \n        if (data.length > 0) {\n          setChartData(data);\n        }\n      } catch (error) {\n        console.error('Lỗi khi fetch dữ liệu lịch sử:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    if (selectedCrypto) {\n      fetchHistoryData();\n    }\n  }, [selectedCrypto, timeFrame]);\n\n  // Lấy thông tin chi tiết coin từ CoinGecko\n  useEffect(() => {\n    const fetchCoinInfo = async () => {\n      setCoinInfo(null);\n      setCoinInfoLoading(true);\n      const id = COINGECKO_IDS[selectedCrypto];\n      if (!id) return setCoinInfoLoading(false);\n      try {\n        const res = await fetch(`https://api.coingecko.com/api/v3/coins/${id}?localization=false&tickers=false&market_data=true&community_data=false&developer_data=false&sparkline=false`);\n        const data = await res.json();\n        setCoinInfo(data);\n      } catch (e) {\n        setCoinInfo(null);\n      } finally {\n        setCoinInfoLoading(false);\n      }\n    };\n    fetchCoinInfo();\n  }, [selectedCrypto]);\n\n  const CustomTooltip = ({ active, payload, label }) => {\n    if (active && payload && payload.length) {\n      const price = payload[0].value;\n      const volume = payload[0].payload.volume;\n      \n      return (\n        <div style={{\n          backgroundColor: theme.colors.surface,\n          border: `1px solid ${theme.colors.border}`,\n          borderRadius: '8px',\n          padding: '12px',\n          color: theme.colors.text,\n          fontSize: '12px',\n          boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)'\n        }}>\n          <p style={{ margin: '0 0 8px 0', fontWeight: 'bold' }}>{`⏰ ${label}`}</p>\n          <p style={{ color: theme.colors.primary, margin: '4px 0', fontWeight: 'bold' }}>\n            {`💰 $${price.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`}\n          </p>\n          <p style={{ color: theme.colors.textSecondary, margin: '4px 0' }}>\n            {`📊 Volume: ${volume.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`}\n          </p>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  // Xác định màu line: tăng thì xanh, giảm thì đỏ\n  let lineColor = theme.colors.primary;\n  if (chartData.length > 1 && chartData[chartData.length - 1].price < chartData[0].price) {\n    lineColor = theme.colors.secondary;\n  }\n\n  return (\n    <Container theme={theme}>\n      {/* Thông tin chi tiết coin */}\n      <CoinInfoRow>\n        {coinInfoLoading ? (\n          <CoinDetail theme={theme}>Đang tải thông tin coin...</CoinDetail>\n        ) : coinInfo ? (\n          <>\n            <CoinLogo src={coinInfo.image?.thumb || coinInfo.image?.small} alt={coinInfo.name} />\n            <CoinName>{coinInfo.name} ({coinInfo.symbol?.toUpperCase()})</CoinName>\n            <CoinDetail theme={theme}>Rank #{coinInfo.market_cap_rank}</CoinDetail>\n            <CoinDetail theme={theme}>Market Cap: ${coinInfo.market_data?.market_cap?.usd?.toLocaleString('en-US')}</CoinDetail>\n            <CoinDetail theme={theme}>Volume 24h: ${coinInfo.market_data?.total_volume?.usd?.toLocaleString('en-US')}</CoinDetail>\n          </>\n        ) : (\n          <CoinDetail theme={theme}>Không có dữ liệu coin</CoinDetail>\n        )}\n      </CoinInfoRow>\n      <Title theme={theme}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', width: '100%' }}>\n          <div>\n            <span>📈 Biểu đồ giá - {selectedCrypto}</span>\n            {(chartData.length > 0) ? (\n              <div style={{ fontSize: '12px', color: theme.colors.textSecondary, marginTop: '4px' }}>\n                <span style={{ color: theme.colors.primary, fontWeight: 'bold' }}>\n                  ${chartData[chartData.length - 1].price.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                </span>\n                <span style={{\n                  color: (chartData[chartData.length - 1].price - chartData[0].price) >= 0 ? theme.colors.primary : theme.colors.secondary,\n                  marginLeft: '8px'\n                }}>\n                  {((chartData[chartData.length - 1].price - chartData[0].price) >= 0 ? '+' : '') +\n                    (((chartData[chartData.length - 1].price - chartData[0].price) / chartData[0].price * 100).toFixed(2))}%\n                </span>\n              </div>\n            ) : (\n              cryptoData[selectedCrypto] && (\n                <div style={{ fontSize: '12px', color: theme.colors.textSecondary, marginTop: '4px' }}>\n                  <span style={{ color: theme.colors.primary, fontWeight: 'bold' }}>\n                    ${cryptoData[selectedCrypto].price?.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                  </span>\n                  <span style={{\n                    color: cryptoData[selectedCrypto].change24h >= 0 ? theme.colors.primary : theme.colors.secondary,\n                    marginLeft: '8px'\n                  }}>\n                    {cryptoData[selectedCrypto].change24h >= 0 ? '+' : ''}{cryptoData[selectedCrypto].change24h?.toFixed(2)}%\n                  </span>\n                </div>\n              )\n            )}\n          </div>\n          <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\n            <TimeFrameButtons>\n              {['1H', '4H', '1D', '1W'].map(tf => (\n                <TimeButton\n                  key={tf}\n                  active={timeFrame === tf}\n                  theme={theme}\n                  onClick={() => setTimeFrame(tf)}\n                >\n                  {tf}\n                </TimeButton>\n              ))}\n            </TimeFrameButtons>\n            <TimeButton\n              active={isRealtime}\n              theme={theme}\n              onClick={() => setIsRealtime(!isRealtime)}\n              style={{ fontSize: '10px', padding: '4px 8px' }}\n            >\n              {isRealtime ? '🟢 Live' : '🔴 Pause'}\n            </TimeButton>\n            <TimeButton\n              theme={theme}\n              onClick={() => {\n                setChartData([]);\n                // Trigger reload\n                const event = new Event('reload');\n                window.dispatchEvent(event);\n              }}\n              style={{ fontSize: '10px', padding: '4px 8px' }}\n            >\n              🔄 Refresh\n            </TimeButton>\n          </div>\n        </div>\n      </Title>\n      \n      <ChartContainer>\n        <div style={{ \n          position: 'absolute', \n          top: '10px', \n          right: '10px', \n          fontSize: '12px', \n          color: isRealtime ? theme.colors.primary : theme.colors.textSecondary,\n          zIndex: 10 \n        }}>\n          {isRealtime ? '🟢 Live' : '🔴 Paused'}\n        </div>\n        \n        {isLoading ? (\n          <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100%', color: theme.colors.textSecondary, fontSize: '14px' }}>\n            📊 Đang tải dữ liệu lịch sử...\n          </div>\n        ) : chartData.length === 0 ? (\n          <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100%', color: theme.colors.textSecondary, fontSize: '14px' }}>\n            📊 Không có dữ liệu cho {selectedCrypto}\n          </div>\n        ) : (\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <LineChart data={chartData} margin={{ top: 20, right: 20, left: 0, bottom: 20 }}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke={theme.colors.border} />\n              <XAxis dataKey=\"time\" minTickGap={20} tick={{ fill: theme.colors.textSecondary, fontSize: 12 }} />\n              <YAxis domain={['auto', 'auto']} tick={{ fill: theme.colors.textSecondary, fontSize: 12 }} width={60} />\n              <Tooltip content={<CustomTooltip />} />\n              <Line\n                type=\"monotone\"\n                dataKey=\"price\"\n                dot={false}\n                stroke={lineColor}\n                strokeWidth={2.5}\n                isAnimationActive={false}\n                connectNulls\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        )}\n        \n        {/* Hiển thị thông tin giá min/max */}\n        {chartData.length > 0 && (\n          <div style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginTop: '10px',\n            fontSize: '11px',\n            color: theme.colors.textSecondary\n          }}>\n            <span>\n              📉 Min: ${Math.min(...chartData.map(d => d.price)).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n            </span>\n            <span>\n              📈 Max: ${Math.max(...chartData.map(d => d.price)).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n            </span>\n            <span>\n              📊 Range: ${(Math.max(...chartData.map(d => d.price)) - Math.min(...chartData.map(d => d.price))).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n            </span>\n          </div>\n        )}\n      </ChartContainer>\n    </Container>\n  );\n};\n\nexport default TradingChart; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}